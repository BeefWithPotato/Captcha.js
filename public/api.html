<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>VerifyCode.js</title>
	<link rel="stylesheet" type="text/css" href="apistyle.css">
	<script src="highlight/highlight.pack.js"></script>
	<link rel="stylesheet" type="text/css" href="highlight/styles/rainbow.css"/>
	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
	<div class="api-page">
		<div class="api-title">
			<h1 class="title-name">
				VerifyCode.js <strong style="color: blue;">API</strong>
			</h1>
			<p class="api-version">V1.0.0</p>
		</div>

		<a class="home-redirect" href="/"> <strong><<< Back to Home page</strong></a>
		<a class="example-redirect" href="/examples.html"><strong>Go to Example page >>></strong></a>

		<div class="getting-started">
			<h2>
				Getting Started with our library
			</h2>

			<p>
				<strong>VerifyCode.js</strong> is a verifdication code generate library based on HTML Canvas which will help you alleviate the stress in creating verification code. <br>
				It provides two types of verification, slider and text. Each type has plenty of customizable options to help creating a unique verification experience for future users.
			</p>

			<p>
				In order to use our library, please get the latest version of the library by using download button in the Home page or you can use the following url to clone our project.<br>
				The following instruction will get you all set for using the library: <br>
				<pre>
					<code>
	//git clone our library
	git clone https:/github.com/csc309-summer-2020/js-library-zhan4415.git
					</code>
					<code class="html">
	//put following html into your html file &lt;head&gt; section
	&lt;script defer type=&quot;text/javascript&quot; src=&quot;js/verification_code_creator.js&quot;&gt;&lt;/script&gt;
					</code>
				</pre>
			<p>
				Since the library will based on HTML Canvas, it is up to you to decide its style. You can always use the following method to create a canvas DOM element:
			</p>
				<pre>
					<code class="javascript">
	createCanvas()
					</code>
				</pre>
			</p>
			<p>
				Please refer to the detail method description in the following sections to learn how to use this method. <br>
				The example for setting the generator instances can also be found there.
			</p>
		<div>

		<div class="slide-api">
			<div class="slide-api-title">
				<h2>
					Slider-type Verification
				</h2>

				<h3>
					Global Variables
				</h3>
			</div>

			<div class="property-list">
				<table>
					<tr>
						<th>Global Variables</th>
						<th>Default</th>
						<th>Type</th>
						<th>How to set</th>
						<th>Description</th>
					</tr>

					<tr>
						<td>imgs</td>
						<td>
							<code class="code">
								/
							</code>
						</td>
						<td>Array of Image type file</td>
						<td>setImgs(list)</td>
						<td class="description">
							The list will contain <strong>Image type</strong> files. It will be using as a pool for randomly choosing background of the verification. It is for user-customize backgrounds only. For default backgrounds please refer to the variables <code class="code">srcs</code>
						</td>
					</tr>

					<tr>
						<td>srcs</td>
						<td>
							<code class="code">
								/
							</code>
						</td>
						<td>Array of URLs</td>
						<td>setSrcs(list)</td>
						<td class="description">
							The list will contain <strong>URLs</strong> of the images. It is convenient for setting default background. For user-customize backgrounds please refer to the variables <code class="code">imgs</code>
						</td>
					</tr>

					<tr>
						<td>verticalOrHorizontal</td>
						<td>
							<code class="code">
								/
							</code>
						</td>
						<td>String</td>
						<td>setDirection(string)</td>
						<td class="description">
							This variable will decide whether the slider is vertical or horizontal. The default value is empty, so the slider will randomly decide between the two directions.
						</td>
					</tr>

					<tr>
						<td>resultErrorRange</td>
						<td>
							<code class="code">
								5
							</code>
						</td>
						<td>Int</td>
						<td>setResultError(int)</td>
						<td class="description">
							Let you decide the accuracy of the final jigsaw position.
						</td>
					</tr>
				</table>
			</div>

			<div class="slide-methods-title">
				<h3>
					Methods
				</h3>
			</div>

			<div class="method-list">
				<table>
					<tr>
						<th>Methods</th>
						<th>Parameters</th>
						<th>Description</th>
					</tr>

					<tr>
						<td class="methods-name">
							createCanvas(width, height, name, type)
						</td>
						<td class="parameters">
							width: Int<br>
							height: Int<br>
							name: String<br>
							type: <code class="code">"background" / "jigsaw"</code>
						</td>
						<td class="methods-description">
							Create canvas with class name and id be the parameter 
							<code class="code">name</code>. It will return the canvas DOM element
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							setDirection(direction)
						</td>
						<td class="parameters">
							direction: <code class="code">"vertical" / "horizontal" / ""</code>
						</td>
						<td class="methods-description">
							Set the slider direction
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							setSrcs(list)
						</td>
						<td class="parameters">
							list: Array of image URLs
						</td>
						<td class="methods-description">
							Set the image urls list for default backgrounds' pool
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							setImgs(list)
						</td>
						<td class="parameters">
							list: Array of Image type file
						</td>
						<td class="methods-description">
							Set the image files' list for user-customize backgrounds' pool
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							setResultError(error)
						</td>
						<td class="parameters">
							error: Int
						</td>
						<td class="methods-description">
							Set the accuracy when verifying final jigsaw positions' coordinates
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							makeJigsaw(length, type)
						</td>
						<td class="parameters">
							width: Int (Jigsaw's width)<br>
							type: <code class="code">"file" / "src"</code>
						</td>
						<td class="methods-description">
							Make the jigsaw by using given length in canvas
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							createBackground(type)
						</td>
						<td class="parameters">
							type: <code class="code">"file" / "src"</code>
						</td>
						<td class="methods-description">
							Draw the image in canvas
						</td>
					</tr>
				</table>
			</div>
		</div>

		<div class="code-for-slider">
			<h2>
				Complete configuration to create slider-type verification
			</h2>

			<pre>
					<code class="javascript">
	const slide = new SlideStyleGenerator();
	const defaultEx = document.querySelector('#ex1');
	const canvas = slide.createCanvas(320, 200, "canvas", "background");
	const block = slide.createCanvas(320, 200, "jigsaw", "jigsaw");
	defaultEx.append(canvas);
	defaultEx.append(block);
	setResultError(5)
	//set slider direction
	//parameters: "vertical" / "horizontal" / ""
	slide.setDirection("");
	//for default images
	slide.setSrcs(defaultImgs);
	slide.makeJigsaw(50, "src");
	slide.createBackground("src");
	//for user-customize images
	slide.setImgs(uploadImgs);
	slide.makeJigsaw(50, "file");
	slide.createBackground("file");
	
					</code>
			</pre>
		</div>


		<div class="text-api">
			<div class="text-api-title">
				<h2>
					Traditional Text Verification
				</h2>

				<h3>
					Global Variables
				</h3>
			</div>

			<div class="text-property-list">
				<table>
					<tr>
						<th>Global Variables</th>
						<th>Default</th>
						<th>Type</th>
						<th>How to set</th>
						<th>Description</th>
					</tr>

					<tr>
						<td>font</td>
						<td>
							<code class="code">
								"bold 40pt serif"
							</code>
						</td>
						<td>String</td>
						<td>setFont(string)</td>
						<td class="description">
							The palce where you can customize your code font in canvas.
						</td>
					</tr>

					<tr>
						<td>angle</td>
						<td>
							<code class="code">
								10
							</code>
						</td>
						<td>Int</td>
						<td>setAngle(int)</td>
						<td class="description">
							You can set code's digits maximum degree of rotation angle. The generator will randomly choose a degree for each digit from 1 to the maximun degree.
						</td>
					</tr>

					<tr>
						<td>dotSpeed</td>
						<td>
							<code class="code">
								2
							</code>
						</td>
						<td>Int</td>
						<td>setDotSpeed(int)</td>
						<td class="description">
							The dot speed here is the maximum. The library will randomly choose each dot's speed from 1 to the maximum when adding.
						</td>
					</tr>

					<tr>
						<td>blur</td>
						<td>
							<code class="code">
								"no"
							</code>
						</td>
						<td>String</td>
						<td>setBlur(int)</td>
						<td class="description">
							The variable will decide how fuzziness of the final verification code will be in canvas.
						</td>
					</tr>

					<tr>
						<td>lineWidth</td>
						<td>
							<code class="code">
								2
							</code>
						</td>
						<td>Int</td>
						<td>setLineWidth(int)</td>
						<td class="description">
							Set the width of lines in the verification code.
						</td>
					</tr>

					<tr>
						<td>dotRadius</td>
						<td>
							<code class="code">
								3
							</code>
						</td>
						<td>Int</td>
						<td>setDotRadius(int)</td>
						<td class="description">
							Set the radius of dots in the verification code.
						</td>
					</tr>
				</table>
			</div>

			<div class="text-methods-title">
				<h3>
					Methods
				</h3>
			</div>

			<div class="text-method-list">
				<table>
					<tr>
						<th>Methods</th>
						<th>Parameters</th>
						<th>Description</th>
					</tr>

					<tr>
						<td class="methods-name">
							createCanvas(width, height, name)
						</td>
						<td class="parameters">
							width: Int<br>
							height: Int<br>
							name: String<br>
						</td>
						<td class="methods-description">
							Create canvas with class name and id be the provided parameter 
							<code class="code">name</code>. It will return the canvas DOM element.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							setFont(font)
						</td>
						<td class="parameters">
							font: String
						</td>
						<td class="methods-description">
							Allow you to set your own font in canvas.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							setAngle(angle)
						</td>
						<td class="parameters">
							angle: Int<br>
						</td>
						<td class="methods-description">
							 Set maximum degree of code rotation angle. We recommend the angle <= 15 degrees. Otherwise the digits may be out of canvas margin. Note: deciding the angle should based on dimension of canvas.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							setDotSpeed(speed)
						</td>
						<td class="parameters">
							speed: Int<br>
						</td>
						<td class="methods-description">
							 Set dots' maximum speed.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							setDotRadius(radius)
						</td>
						<td class="parameters">
							radius: Int<br>
						</td>
						<td class="methods-description">
							 Set dots' radius.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							setLineWidth(width)
						</td>
						<td class="parameters">
							width: Int<br>
						</td>
						<td class="methods-description">
							 Set lines' width.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							setBlur(level)
						</td>
						<td class="parameters">
							level: Int<br>
						</td>
						<td class="methods-description">
							 Set level of fuzziness in canvas. We recommend the fuzziness value don't exceed 3 since the level 3 is already very difficult to recognize.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							getCode()
						</td>
						<td class="parameters">
							/
						</td>
						<td class="methods-description">
							It will return the current correct code of the verification. You can use the result to verify the user's input. 
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							createCode(canvas, digits)
						</td>
						<td class="parameters">
							canvas: canvas DOM element <br>
							digits: Int
						</td>
						<td class="methods-description">
							Generate the code of verification in the canvas. Each digit will randomly be a number, letter (uppercase or lowercase), random color and whether fill or stroke. 
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							getCode()
						</td>
						<td class="parameters">
							/
						</td>
						<td class="methods-description">
							It will return the current correct code of the verification. You can use the result to verify the user's input. 
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							addDots(number)
						</td>
						<td class="parameters">
							number: Int
						</td>
						<td class="methods-description">
							Add the number of dots you want to display in the verification.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							clearDots()
						</td>
						<td class="parameters">
							/
						</td>
						<td class="methods-description">
							Clear all the dots in the generator. You may want to use this when reset the verification.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							drawRandomLines(canvas, number)
						</td>
						<td class="parameters">
							canvas: canvas DOM element <br>
							number: Int
						</td>
						<td class="methods-description">
							Add the number of lines you want to display in the verification. The lines' position and length are randomly selected by generator.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							drawRandomDots(canvas)
						</td>
						<td class="parameters">
							canvas: canvas DOM element
						</td>
						<td class="methods-description">
							Draw the dots you previously added to the generator. The dots' position, color whether fill or stroke will randomly set by generator.
						</td>
					</tr>

					<tr>
						<td class="methods-name">
							drawRandomDotsWithAnimation(canvas)
						</td>
						<td class="parameters">
							canvas: a new canvas DOM element specific to creating animation
						</td>
						<td class="methods-description">
							Make the aniamtion of dots movement. The method will need a seperate canvas DOM element exclusive for the animation. The new canvas need to be coincide with the code canvas(like a mask above the code canvas). The dots' position, color whether fill or stroke will randomly set by generator.
						</td>
					</tr>
				</table>
			</div>
		</div>

		<div class="code-for-text">
			<h2>
				Complete configuration to create text-type verification
			</h2>

			<pre>
					<code class="javascript">
	const textType = new TextEnterGenerator();
	const textEx = document.querySelector('#text-button-customize');
	const canvas5 = textType.createCanvas(360, 150, "canvas");
	const canvasAnimation = textType.createCanvas(360, 150, "canvasAnimation");
	textEx.append(canvas);
	textEx.append(canvasAnimation);
	textEx("bold 42pt Aerial serif")
	textType.setBlur(1);
	textType.setAngle(10);
	textType.createCode(canvas5, 4);
	textType.setLineWidth(1)
	textType.drawRandomLines(canvas5, 20);
	textType.setDotSpeed(3)
	textType.addDots(20);
	//without animation
	textType.drawRandomDots(canvas5);
	//with animation
	textType.drawRandomDotsWithAnimation(canvasAnimation);
					</code>
			</pre>
		</div>

		<div class="footer">
			<p style="text-align: center;">
				VerifyCode.js V1.0.0, created by Haosheng Zhang. <br>
				U of T, CSC309 license. <br>
				All rights reserved.
			</p>
		</div>

	</div>



</body>

